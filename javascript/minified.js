let navDots=document.querySelectorAll(".nav__dot");controller=new ScrollMagic.Controller,scripts=["https://cdnjs.cloudflare.com/ajax/libs/gsap/3.0.4/gsap.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/3.0.4/ScrollToPlugin.min.js","https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js","https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"];let loadScripts=e=>{var t=$.Deferred();let o=c=>{c<e.length?$.getScript(e[c],()=>{o(c+1)}):t.resolve()};return o(0),t},setVh=()=>{let e=window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)};setScrollPosition(),window.addEventListener("scroll",function(){setScrollPosition()}),setVh(),window.addEventListener("resize",setVh),loadScripts(scripts).done(()=>{gsap.from(".view__splash--letter",{duration:2,ease:"power4.inOut",opacity:0,y:"random(-100, 100)",stagger:{amount:1,from:"center"}},0)});let animateDot=e=>{let t=document.querySelector(".selected"),o=document.querySelector(e);o!==t&&(null!==t&&(t.classList.remove("hover-effect"),t.classList.remove("selected")),o.classList.add("selected"),o.classList.add("hover-effect"),setTimeout(function(){o.classList.remove("hover-effect")},3e3))},setScrollPosition=()=>{let e=document.querySelector(".view__skills").offsetTop,t=document.querySelector(".view__contact").offsetTop,o=document.querySelector(".view__projects").offsetTop,c=this.window.pageYOffset+this.window.innerHeight/2;animateDot(c>=t&&c<o?".contact":c>=o&&c<e?".projects":c>=e?".skills":".splash")},aboutTween=gsap.timeline().from(".view__contact--name",{opacity:0},0).from(".view__contact--container",{opacity:0},1),aboutScene=new ScrollMagic.Scene({triggerElement:".view__contact",duration:"150px"}).setTween(aboutTween),projectsTween=gsap.timeline().from(".view__projects--img",{x:100,opacity:0},0).from(".view__projects--info",{x:-100,opacity:0},0),projectScene=new ScrollMagic.Scene({triggerElement:".view__projects",duration:"50%"}).setTween(projectsTween),skillsTween=gsap.timeline().from(".view__skills--header",{opacity:0},0).from(".view__skills--container",{y:100,opacity:0,stagger:.2},0),skillScene=new ScrollMagic.Scene({triggerElement:".view__skills",duration:"50%"}).setTween(skillsTween);controller.addScene([aboutScene,projectScene,skillScene]),navDots.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=`${e.target.hash}`,o=(window.innerHeight-$(t).height())/2;gsap.to(window,{duration:1.3,scrollTo:{y:t,offsetY:o},ease:"expo.out"})})}),$.getJSON("json/projects.json").done(e=>{let t=0,o=document.querySelector(".carousel__button--left"),c=document.querySelector(".carousel__button--right"),i=document.querySelector(".view__projects--title"),n=document.querySelector(".view__projects--desc"),r=document.querySelector(".view__projects--img"),s=document.querySelector(".view__projects--tech"),l=document.querySelector(".view__projects--link");o.addEventListener("click",function(){t=p("left"),a()}),c.addEventListener("click",function(){t=p("right"),a()});e.map(({img:e})=>{(new Image).src=e});let a=()=>{gsap.timeline({onComplete:d,defaults:{duration:.3}}).to(".view__projects--img",{x:100,opacity:0},0).to(".view__projects--info-container",{opacity:0},0)},d=()=>{i.textContent=e[t].title,n.textContent=e[t].description,s.textContent=e[t].tech,r.src=e[t].img,l.href=e[t].url,gsap.timeline({defaults:{duration:.3}}).to(".view__projects--img",{x:0,opacity:1},0).to(".view__projects--info-container",{opacity:1},0)},p=o=>"left"===o?t<=0?e.length-1:t-1:"right"===o?t>=e.length-1?0:t+1:void 0});